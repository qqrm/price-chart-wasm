# Отслеживание оптимизаций

## Перечень улучшений
- [ ] Профилировать использование GPU памяти
- [x] Снизить количество обновлений буфера вершин
- [ ] Задействовать instanced drawing для свечей
- [x] Кэшировать результаты вычислений на стороне GPU
- [ ] Минимизировать синхронизацию CPU и GPU

### Дополнительные изменения
- [x] `CandleSeries` на `VecDeque`
 - [x] Хранение `Chart` в состоянии
- [ ] Вектор логов на `VecDeque`

## Бенчмарк производительности WebGPU
- [x] Измерять FPS при разных объёмах данных
- [ ] Логировать время работы рендер-пассов через `wgpu::CommandEncoder::finish`
- [x] Использовать `Performance.now()` в браузере для замера кадра
- [x] Автоматизировать запуск тестовой сцены с фиксированным числом свечей

Бенчмарк запускается так:

```bash
wasm-pack test --headless --chrome -- --nocapture
```

Workflow `perf.yml` сохраняет файл `perf-log`.
